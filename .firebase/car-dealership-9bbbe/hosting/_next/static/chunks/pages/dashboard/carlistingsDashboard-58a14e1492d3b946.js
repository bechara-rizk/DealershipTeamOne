(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{7564:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/carlistingsDashboard",function(){return a(1269)}])},7309:function(e,s,a){"use strict";a.d(s,{I8:function(){return c},RZ:function(){return o},tO:function(){return d}});var t=a(3977),l=a(1259),i=a(9828),r=a(6650);let n=(0,t.ZF)({apiKey:"AIzaSyAxMvQrEVvVODwMnC-PKh6haLPk4w3lAxI",authDomain:"car-dealership-9bbbe.firebaseapp.com",projectId:"car-dealership-9bbbe",storageBucket:"car-dealership-9bbbe.appspot.com",messagingSenderId:"1088203370503",appId:"1:1088203370503:web:3aa620d2ec46fc9bd17aa2"}),c=(0,l.v0)(n),o=(0,i.ad)(n),d=(0,r.cF)(n)},4371:function(e,s,a){"use strict";var t=a(5893);a(7294);var l=a(7309),i=a(1163);let r=()=>{let e=(0,i.useRouter)();return(0,t.jsxs)("div",{className:"dashNav",children:[(0,t.jsxs)("div",{className:"user",children:[(0,t.jsx)("span",{children:"Admin "}),(0,t.jsx)("span",{children:"   "}),(0,t.jsx)("img",{src:"https://static.vecteezy.com/system/resources/previews/008/442/086/original/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",alt:"avatar"})]}),(0,t.jsx)("button",{onClick:async()=>{await l.I8.signOut(),e.push("/home/homescreen")},className:"signout",children:(0,t.jsx)("span",{children:"Sign out"})})]})};s.Z=r},2607:function(e,s,a){"use strict";var t=a(5893),l=a(7294);s.Z=function(e){let{onSearch:s}=e,[a,i]=(0,l.useState)(""),r=e=>{i(e.currentTarget.value),s(e.currentTarget.value)};return(0,t.jsx)("div",{className:"searchbrstyle",children:(0,t.jsx)("input",{className:"searchbrstyle",value:a,onChange:r,placeholder:"Search by make or model"})})}},1514:function(e,s,a){"use strict";var t=a(5893);a(7294);var l=a(1664),i=a.n(l),r=a(5434),n=a(3854),c=a(6893),o=a(155),d=a(9583),h=a(2489),m=a(9417);let x=()=>(0,t.jsx)("div",{className:"sidebarWrapper",children:(0,t.jsxs)("div",{className:"sidebarContainer",children:[(0,t.jsxs)("div",{className:"logo",children:[(0,t.jsx)(r.JZ9,{className:"logo-icon"}),(0,t.jsx)("span",{children:"Luxe Motors"})]}),(0,t.jsxs)("div",{className:"menu",children:[(0,t.jsxs)(i(),{href:"/dashboard/home",className:"item",children:[(0,t.jsx)(n.VRM,{className:"menu-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Home"})]}),(0,t.jsxs)(i(),{href:"/home/homescreen",className:"item",children:[(0,t.jsx)(h.G,{icon:m.ILF,className:"user-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Test as user"})]}),(0,t.jsxs)(i(),{href:"/dashboard/carlistingsDashboard",className:"item",children:[(0,t.jsx)(d.BYR,{className:"car-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Car List"})]}),(0,t.jsxs)(i(),{href:"/dashboard/SalesInfoPage",className:"item2",children:[(0,t.jsx)(o.d79,{className:"orders-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Sales Information"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(i(),{href:"/dashboard/CarScheduleAcceptance",className:"item2",children:[(0,t.jsx)(d.IiJ,{className:"TestSchedule-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Test Schedule"})]})})]}),(0,t.jsxs)(i(),{href:"/dashboard/charts",className:"item",children:[(0,t.jsx)(c.orK,{className:"chart-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Charts"})]})]})});s.Z=x},1269:function(e,s,a){"use strict";a.r(s);var t=a(5893),l=a(7294),i=a(2607),r=a(9133),n=a(5746),c=a(8083),o=a(1552),d=a(8942),h=a(1577),m=a(1230),x=a(4371),u=a(1514),j=a(7309),p=a(9828),g=a(6650),f=a(2489),y=a(9417),b=a(9583),C=a(4981),N=a(8484);let{Meta:v}=r.Z,w=async()=>{let e=j.RZ,s=(0,p.hJ)(e,"listings"),a=(0,p.IO)(s,(0,p.ar)("sold","==",!1)),t=await (0,p.PL)(a),l=t.docs.map(e=>({id:e.id,...e.data()}));return l},Z=async()=>{let e=(0,g.iH)(j.tO,"images/"),s=[],a=await (0,g.aF)(e);a.items.forEach(e=>{s.push(e)});let t={};for(let e of s){let s=await (0,g.Jt)(e);t[e.name.slice(0,-4)]=s}return t};s.default=function(){let[e,s]=(0,l.useState)(null),[a,v]=(0,l.useState)(null),[I,k]=(0,l.useState)(!0),[S,E]=(0,l.useState)(!1),[P,_]=(0,l.useState)(null),[L,M]=(0,l.useState)(null),[V,J]=(0,l.useState)(null),[R,T]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=async()=>{let e=await w(),a=await Z();s(e),v(a),k(!1)};e()},[]);let A=e=>{T(e.toLowerCase())},F=e=>{E(!0),_(e),M(e)},O=async e=>{try{let a=j.RZ,t=(0,p.hJ)(a,"listings"),l=(0,p.JU)(t,e.VIN),i=(0,p.hJ)(a,"sales");await (0,p.r7)(l,{sold:!0}),await (0,p.ET)(i,{carInfo:{VIN:e.VIN,make:e.make,model:e.model,mileage:e.mileage,year:e.year,color:e.color},price:e.price,date:new Date}),console.log("Car marked as sold!");let r=await w();s(r);let n=await Z();v(n)}catch(e){console.error("Error marking car as sold:",e)}},W=async e=>{if(!L||!L.id)return;if(V){let e=j.tO,s=(0,g.iH)(e,"images/"+P.VIN+V.name.slice(-4));await (0,g.KV)(s,V)}let a=(0,p.JU)(j.RZ,"listings",L.id);delete e.picture,await (0,p.r7)(a,e);let t=await w();s(t);let l=await Z();v(l),E(!1)},B=async e=>{try{let s=(0,p.JU)(j.RZ,"listings",e);await (0,p.oe)(s),console.log("Car deleted successfully!")}catch(e){console.error("Error deleting car:",e)}let a=await w();s(a);let t=await Z();v(t),E(!1)};if(I)return(0,t.jsx)("div",{children:"Loading..."});let D=e.filter(e=>""===R||e.make.toLowerCase().includes(R)||e.model.toLowerCase().includes(R)).map((e,s)=>(0,t.jsx)(n.Z,{lg:6,md:8,xs:24,children:(0,t.jsxs)(r.Z,{hoverable:!0,className:"card",cover:(0,t.jsx)("img",{src:a[e.VIN],alt:"",style:{width:"100%",maxHeight:"auto",maxWidth:"500px",minHeight:"250px",objectFit:"contain"}}),children:[(0,t.jsx)("img",{src:"/images/sold-out.png",alt:"Icon",style:{width:"8vh",height:"8vh",position:"absolute",top:0,left:0},onClick:()=>O(e)}),(0,t.jsxs)("h3",{style:{margin:0,marginBottom:8},children:[e.make,(0,t.jsx)(f.G,{color:"#454545",icon:y.IwR,className:"edit-icon",style:{marginLeft:"10px",color:"black",cursor:"pointer"},onClick:()=>F(e)})]}),(0,t.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Model: ",e.model]}),(0,t.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Price: ",e.price,"$"]}),void 0===e.mileage?(0,t.jsx)("p",{style:{margin:0,color:"#8C8C8C"},children:"Mileage: undefined"}):(0,t.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Mileage: ",e.mileage]}),(0,t.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Year: ",e.year]}),(0,t.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Color: ",e.color]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:(0,t.jsx)(b.Xm5,{size:24,color:"#454545",onClick:()=>B(e.id)})})]})},s)),H=(0,t.jsx)(c.Z,{title:"Edit Car",open:S,onCancel:()=>E(!1),footer:null,width:"450px",height:"80%",children:(0,t.jsx)("div",{className:"form-container",children:(0,t.jsxs)(o.Z,{labelCol:{span:4},wrapperCol:{span:20},layout:"horizontal",initialValues:P,onFinish:W,children:[(0,t.jsx)(o.Z.Item,{label:"Make",name:"make",style:{marginBottom:"16px"},children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"Model",name:"model",children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"Price",name:"price",children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"Mileage",name:"mileage",children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"Year",name:"year",children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"Color",name:"color",children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"Picture",name:"picture",style:{marginBottom:"16px"},children:(0,t.jsx)(C.Z,{beforeUpload:e=>(J(e),!1),children:(0,t.jsx)(h.ZP,{icon:(0,t.jsx)(N.Z,{}),children:"Click to Upload"})})}),(0,t.jsx)(o.Z.Item,{wrapperCol:{offset:4,span:20},children:(0,t.jsx)(h.ZP,{type:"primary",htmlType:"submit",className:"editcarButton",children:"Save"})})]})})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{}),(0,t.jsx)(u.Z,{}),(0,t.jsxs)("div",{className:"Dashboardproducts",children:["handleEditSubmit",(0,t.jsx)("div",{className:"headercontainer",style:{textAlign:"center"}}),(0,t.jsx)("div",{style:{width:"100%"},children:(0,t.jsx)("div",{className:"Productpagecontainer",style:{margin:"0 auto",maxWidth:"1400px",minHeight:"100vh"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"SearchProdductPage",style:{display:"flex",justifyContent:"flex-end",margin:"1rem auto"},children:[(0,t.jsx)(i.Z,{onSearch:A}),(0,t.jsxs)("a",{href:"/dashboard/AddCarForm",className:"add-car-button",children:[(0,t.jsx)(b.EIY,{className:"icon"}),(0,t.jsx)("span",{className:"text",children:"Add Car"})]})]})}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:(0,t.jsx)("div",{style:{flex:1,minWidth:"calc(100% - 800px)"},children:0===e.length?(0,t.jsx)("div",{className:"CarListings",style:{display:"flex",height:"300px",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)("h2",{children:"No post yet..."})}):(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:(0,t.jsx)(m.Z,{gutter:[16,16],children:D})})})})]})})}),S&&H]})]})}}},function(e){e.O(0,[976,16,677,228,445,260,556,20,664,806,946,821,774,888,179],function(){return e(e.s=7564)}),_N_E=e.O()}]);