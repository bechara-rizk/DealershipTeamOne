(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{4064:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/CarScheduleAcceptance",function(){return a(766)}])},7309:function(e,s,a){"use strict";a.d(s,{I8:function(){return i},RZ:function(){return d},tO:function(){return o}});var t=a(3977),r=a(1259),n=a(9828),c=a(6650);let l=(0,t.ZF)({apiKey:"AIzaSyAxMvQrEVvVODwMnC-PKh6haLPk4w3lAxI",authDomain:"car-dealership-9bbbe.firebaseapp.com",projectId:"car-dealership-9bbbe",storageBucket:"car-dealership-9bbbe.appspot.com",messagingSenderId:"1088203370503",appId:"1:1088203370503:web:3aa620d2ec46fc9bd17aa2"}),i=(0,r.v0)(l),d=(0,n.ad)(l),o=(0,c.cF)(l)},4371:function(e,s,a){"use strict";var t=a(5893);a(7294);var r=a(7309),n=a(1163);let c=()=>{let e=(0,n.useRouter)();return(0,t.jsxs)("div",{className:"dashNav",children:[(0,t.jsxs)("div",{className:"user",children:[(0,t.jsx)("span",{children:"Admin "}),(0,t.jsx)("span",{children:"   "}),(0,t.jsx)("img",{src:"https://static.vecteezy.com/system/resources/previews/008/442/086/original/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",alt:"avatar"})]}),(0,t.jsx)("button",{onClick:async()=>{await r.I8.signOut(),e.push("/home/homescreen")},className:"signout",children:(0,t.jsx)("span",{children:"Sign out"})})]})};s.Z=c},1514:function(e,s,a){"use strict";var t=a(5893);a(7294);var r=a(1664),n=a.n(r),c=a(5434),l=a(3854),i=a(6893),d=a(155),o=a(9583),u=a(2489),h=a(9417);let m=()=>(0,t.jsx)("div",{className:"sidebarWrapper",children:(0,t.jsxs)("div",{className:"sidebarContainer",children:[(0,t.jsxs)("div",{className:"logo",children:[(0,t.jsx)(c.JZ9,{className:"logo-icon"}),(0,t.jsx)("span",{children:"Luxe Motors"})]}),(0,t.jsxs)("div",{className:"menu",children:[(0,t.jsxs)(n(),{href:"/dashboard/home",className:"item",children:[(0,t.jsx)(l.VRM,{className:"menu-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Home"})]}),(0,t.jsxs)(n(),{href:"/home/homescreen",className:"item",children:[(0,t.jsx)(u.G,{icon:h.ILF,className:"user-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Test as user"})]}),(0,t.jsxs)(n(),{href:"/dashboard/carlistingsDashboard",className:"item",children:[(0,t.jsx)(o.BYR,{className:"car-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Car List"})]}),(0,t.jsxs)(n(),{href:"/dashboard/SalesInfoPage",className:"item2",children:[(0,t.jsx)(d.d79,{className:"orders-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Sales Information"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(n(),{href:"/dashboard/CarScheduleAcceptance",className:"item2",children:[(0,t.jsx)(o.IiJ,{className:"TestSchedule-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Test Schedule"})]})})]}),(0,t.jsxs)(n(),{href:"/dashboard/charts",className:"item",children:[(0,t.jsx)(i.orK,{className:"chart-icon"}),(0,t.jsx)("span",{className:"menu-text",children:"Charts"})]})]})});s.Z=m},766:function(e,s,a){"use strict";a.r(s);var t=a(5893),r=a(7294),n=a(1514),c=a(4371),l=a(7309),i=a(9828);let d={},o=async e=>{if(d[e])return d[e];let s=l.RZ,a=(0,i.hJ)(s,"users"),t=(0,i.JU)(a,e),r=await (0,i.QT)(t);return d[e]=r.data(),r.data()},u=async(e,s)=>{let a=l.RZ,t=(0,i.hJ)(a,"testDrives"),r=(0,i.JU)(t,e);await (0,i.pl)(r,{status:s},{merge:!0})},h=async e=>{},m=async()=>{let e=l.RZ,s=(0,i.hJ)(e,"testDrives"),a=(0,i.IO)(s,(0,i.ar)("status","!=",-1)),t=await (0,i.PL)(a),r=t.docs.map(e=>{let s=e.data();return s.db=e._key.path.segments[6],s}),n=0;for(let e of r)e.id=++n,0===e.status?e.status="Pending":1===e.status?e.status="Scheduled":2===e.status&&(e.status="Completed"),e.user=await o(e.userID);return r.sort((e,s)=>e.id-s.id),r},x=()=>{let[e,s]=(0,r.useState)(),[a,l]=(0,r.useState)(""),[i,d]=(0,r.useState)(),[o,x]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{let e=async()=>{let e=await m();s(e),d(e),x(!1)};e()},[]),o)return(0,t.jsx)("div",{children:"Loading..."});let p=(a,t,r,n)=>{let c=e.map(e=>e.id===a?{...e,status:n}:e),l=1;"Cancelled"===n?l=-1:"Completed"===n&&(l=2),u(t,l),h(r),s(c),d(c)},j=s=>{let a=s.target.value;l(a);let t=e.filter(e=>e.carName.toLowerCase().includes(a.toLowerCase()));d(t)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{}),(0,t.jsx)(c.Z,{}),(0,t.jsx)("div",{className:"side-content",children:(0,t.jsxs)("div",{className:"TestDriveRequestContainer",children:[(0,t.jsx)("h1",{children:"Test Drive Requests"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by car name",value:a,onChange:j,style:{color:"black"}}),(0,t.jsx)("ul",{children:i.map(e=>(0,t.jsxs)("li",{children:[e.car," - ",e.status," - ",e.date," - ",e.time,"- by: ",e.user.firstName+" "+e.user.lastName,(0,t.jsx)("button",{onClick:()=>p(e.id,e.db,e.user,"Scheduled"),disabled:"Scheduled"===e.status,style:{color:"white",backgroundColor:"#454545",border:"1px solid #454545"},children:"Set Scheduled"}),(0,t.jsx)("button",{onClick:()=>p(e.id,e.db,e.user,"Cancelled"),disabled:"Cancelled"===e.status,style:{color:"white",backgroundColor:"#454545",border:"1px solid #454545"},children:"Set Cancelled"}),(0,t.jsx)("button",{onClick:()=>p(e.id,e.db,e.user,"Completed"),disabled:"Completed"===e.status,style:{color:"white",backgroundColor:"#454545",border:"1px solid #454545"},children:"Set Complete"})]},e.id))})]})})]})};s.default=x}},function(e){e.O(0,[976,16,677,228,445,260,556,20,664,806,774,888,179],function(){return e(e.s=4064)}),_N_E=e.O()}]);