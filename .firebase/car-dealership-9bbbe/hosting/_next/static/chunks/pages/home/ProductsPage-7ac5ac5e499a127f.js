(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{5247:function(e,t,s){"use strict";s.d(t,{ZP:function(){return h}});let l={_origin:"https://api.emailjs.com"},n=(e,t="https://api.emailjs.com")=>{l._userID=e,l._origin=t},a=(e,t,s)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class i{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}let r=(e,t,s={})=>new Promise((n,a)=>{let r=new XMLHttpRequest;r.addEventListener("load",({target:e})=>{let t=new i(e);200===t.status||"OK"===t.text?n(t):a(t)}),r.addEventListener("error",({target:e})=>{a(new i(e))}),r.open("POST",l._origin+e,!0),Object.keys(s).forEach(e=>{r.setRequestHeader(e,s[e])}),r.send(t)}),o=(e,t,s,n)=>{let i=n||l._userID;return a(i,e,t),r("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"})},c=e=>{let t;if(!(t="string"==typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},d=(e,t,s,n)=>{let i=n||l._userID,o=c(s);a(i,e,t);let d=new FormData(o);return d.append("lib_version","3.11.0"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",i),r("/api/v1.0/email/send-form",d)};var h={init:n,send:o,sendForm:d}},6552:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/ProductsPage",function(){return s(1984)}])},4914:function(e,t,s){"use strict";var l=s(5893),n=s(7309),a=s(3349),i=s(2529);let r=()=>{let[e,t]=(0,a.F_)(n.I8);return t?(0,l.jsxs)("div",{className:"authButtons",children:[(0,l.jsx)("img",{src:"/images/logo.jpg",alt:"logo",className:"homepageLogo"}),(0,l.jsx)("div",{className:"authContainer",children:(0,l.jsxs)("div",{className:"dropdown",style:{"z-index":"-99"},children:[(0,l.jsxs)("button",{className:"dropbtn",children:["Login ",(0,l.jsx)("i",{className:"arrowLogin down"}),(0,l.jsx)("i",{className:"fa fa-caret-down"})]}),(0,l.jsxs)("div",{className:"dropdown-content",children:[(0,l.jsx)("a",{href:"/auth/Login",children:"Login"}),(0,l.jsx)("a",{href:"/auth/Register",children:"Sign Up"})]})]})})]}):(0,l.jsxs)("div",{className:"authButtons",children:[(0,l.jsx)("img",{src:"/images/logo.jpg",alt:"logo",className:"homepageLogo"}),(0,l.jsxs)("div",{className:"authwrapper",children:[(0,l.jsx)("div",{className:"authContainer",children:(0,l.jsxs)("div",{className:"dropdown",children:[(0,l.jsxs)("button",{className:"dropbtn",children:[e?"Sign Out":"Login"," ",(0,l.jsx)("i",{className:"arrowLogin down"}),(0,l.jsx)("i",{className:"fa fa-caret-down"})]}),(0,l.jsx)("div",{className:"dropdown-content",children:e?(0,l.jsxs)(l.Fragment,{children:["4rplVi6gQfW4oZSvnXGf1D4z05x2"===e.uid?(0,l.jsx)("a",{href:"/dashboard/home",children:"Admin"}):null,(0,l.jsx)("a",{href:"",onClick:()=>n.I8.signOut(),children:"Sign out"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("a",{href:"/auth/Login",children:"Login"}),(0,l.jsx)("a",{href:"/auth/Register",children:"Sign Up"})]})})]})}),(0,l.jsx)("div",{className:"user-profile",children:e&&(0,l.jsx)("div",{className:"profile",children:(0,l.jsx)(i.default,{})})})]})]})};t.Z=r},2607:function(e,t,s){"use strict";var l=s(5893),n=s(7294);t.Z=function(e){let{onSearch:t}=e,[s,a]=(0,n.useState)(""),i=e=>{a(e.currentTarget.value),t(e.currentTarget.value)};return(0,l.jsx)("div",{className:"searchbrstyle",children:(0,l.jsx)("input",{className:"searchbrstyle",value:s,onChange:i,placeholder:"Search by make or model"})})}},1984:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var l=s(5893),n=s(7294),a=s(2607),i=s(9133),r=s(5746),o=s(1230),c=s(5700),d=s(831);s(459);var h=s(7309),u=s(9828),m=s(6650);s(5247);var p=s(4914);let{Meta:x}=i.Z,j=async()=>{let e=h.RZ,t=(0,u.hJ)(e,"listings"),s=(0,u.IO)(t,(0,u.ar)("sold","==",!1)),l=await (0,u.PL)(s),n=l.docs.map(e=>e.data());return n},g=async e=>{let t=(0,m.iH)(h.tO,"images/"),s=[];await (0,m.aF)(t).then(e=>{e.items.forEach(e=>{s.push(e)})});let l={};for(let e of s){let t=await (0,m.Jt)(e);l[e.name.slice(0,-4)]=t}return l};var f=function(){let[e,t]=(0,n.useState)(!1),[s,h]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,f]=(0,n.useState)(!0),[v,y]=(0,n.useState)(""),[w,L]=(0,n.useState)(""),[N,C]=(0,n.useState)([]),[k,S]=(0,n.useState)(0),[b,_]=(0,n.useState)(null),[I,E]=(0,n.useState)(""),[F,D]=(0,n.useState)(null),O=e=>{if(!e)return null;"string"!=typeof e&&(e=e.toString());let t=Number(e.replace(/[^0-9\.-]+/g,""));return isNaN(t)?null:t},P=e=>{E(e.toLowerCase())},Z=new Date;Z.setDate(Z.getDate()+1),Z.toISOString().slice(0,10);let T=new Date;if(T.setDate(T.getDate()+7),T.toISOString().slice(0,10),(0,n.useEffect)(()=>{let e=async()=>{let e=await j(),t=await g(e);h(e),m(t),f(!1)};e()},[]),x)return(0,l.jsx)("div",{children:"Loading..."});function A(){let e=document.getElementById("priceSelected").value,t=document.getElementById("mileageSelected").value,l=document.getElementById("yearSelected").value,n=document.getElementById("makeSelected").value,a=s;"all"!==e&&(e=parseInt(e),a=a.filter(t=>t.price<=e)),"all"!==t&&(t=parseInt(t),a=a.filter(e=>O(e.mileage)<=t)),"all"!==l&&(a=a.filter(e=>e.year==l)),"all"!==n&&(a=a.filter(e=>e.make.toLowerCase()==n.toLowerCase())),D(a)}let M=(F||s).filter(e=>""===I||e.make.toLowerCase().includes(I)||e.model.toLowerCase().includes(I)).map((e,t)=>(0,l.jsx)(r.Z,{lg:6,md:8,xs:24,children:(0,l.jsxs)(i.Z,{hoverable:!0,className:"card",cover:(0,l.jsx)("img",{src:u[e.VIN],alt:"",style:{width:"100%",height:"200px",objectFit:"contain"}}),children:[(0,l.jsx)("h3",{style:{margin:0,"margin-bottom":8},children:e.make}),(0,l.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Model: ",e.model]}),(0,l.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Price: ",e.price,"$"]}),void 0===e.mileage?(0,l.jsx)("p",{style:{margin:0,color:"#8C8C8C"},children:"Mileage: undefined"}):(0,l.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Mileage: ",e.mileage]}),(0,l.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Year: ",e.year]}),(0,l.jsxs)("p",{style:{margin:0,color:"#8C8C8C"},children:["Color: ",e.color]})]})},t));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"headercontainer",style:{textAlign:"center"},children:[(0,l.jsx)(p.Z,{}),(0,l.jsx)(d.Z,{})]}),(0,l.jsx)("div",{className:"lists",style:{width:"100%"},children:(0,l.jsxs)("div",{className:"Productpagecontainer",style:{margin:"0 auto",maxWidth:"1200px",minHeight:"100vh"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"SearchProdductPage",style:{display:"flex",justifyContent:"flex-end",margin:"2rem auto",marginleft:"1rem"},children:(0,l.jsx)(a.Z,{onSearch:P})})}),(0,l.jsx)("div",{style:{display:"flex"},children:(0,l.jsxs)("div",{style:{margin:"auto"},children:[(0,l.jsx)("label",{htmlFor:"",style:{color:"#fff","margin-right":"10px"},children:"Price:"}),(0,l.jsxs)("select",{name:"",id:"priceSelected",style:{background:"#fff",color:"#000"},onChange:A,children:[(0,l.jsx)("option",{value:"all",children:"All"}),(0,l.jsx)("option",{value:"10000",children:"Less than 10k"}),(0,l.jsx)("option",{value:"20000",children:"Less than 20k"}),(0,l.jsx)("option",{value:"30000",children:"Less than 30k"}),(0,l.jsx)("option",{value:"40000",children:"Less than 40k"}),(0,l.jsx)("option",{value:"50000",children:"Less than 50k"}),(0,l.jsx)("option",{value:"60000",children:"Less than 60k"}),(0,l.jsx)("option",{value:"70000",children:"Less than 70k"}),(0,l.jsx)("option",{value:"80000",children:"Less than 80k"}),(0,l.jsx)("option",{value:"90000",children:"Less than 90k"}),(0,l.jsx)("option",{value:"100000",children:"Less than 100k"})]}),(0,l.jsx)("div",{style:{margin:"10px",display:"inline",color:"#fff"},children:"|"}),(0,l.jsx)("label",{htmlFor:"",style:{color:"#fff","margin-right":"10px"},children:"Mileage:"}),(0,l.jsxs)("select",{name:"",id:"mileageSelected",style:{background:"#fff",color:"#000"},onChange:A,children:[(0,l.jsx)("option",{value:"all",children:"All"}),(0,l.jsx)("option",{value:"10000",children:"Less than 10k"}),(0,l.jsx)("option",{value:"20000",children:"Less than 20k"}),(0,l.jsx)("option",{value:"30000",children:"Less than 30k"}),(0,l.jsx)("option",{value:"40000",children:"Less than 40k"}),(0,l.jsx)("option",{value:"50000",children:"Less than 50k"}),(0,l.jsx)("option",{value:"60000",children:"Less than 60k"}),(0,l.jsx)("option",{value:"70000",children:"Less than 70k"}),(0,l.jsx)("option",{value:"80000",children:"Less than 80k"}),(0,l.jsx)("option",{value:"90000",children:"Less than 90k"}),(0,l.jsx)("option",{value:"100000",children:"Less than 100k"})]}),(0,l.jsx)("div",{style:{margin:"10px",display:"inline",color:"#fff"},children:"|"}),(0,l.jsx)("label",{htmlFor:"",style:{color:"#fff","margin-right":"10px"},children:"Year:"}),(0,l.jsxs)("select",{name:"",id:"yearSelected",style:{background:"#fff",color:"#000"},onChange:A,children:[(0,l.jsx)("option",{value:"all",children:"All"}),Array.from(new Set(s.map(e=>Number(e.year)))).sort((e,t)=>t-e).map((e,t)=>(0,l.jsx)("option",{value:e,children:e},t))]}),(0,l.jsx)("div",{style:{margin:"10px",display:"inline",color:"#fff"},children:"|"}),(0,l.jsx)("label",{htmlFor:"",style:{color:"#fff","margin-right":"10px"},children:"Make:"}),(0,l.jsxs)("select",{name:"",id:"makeSelected",style:{background:"#fff",color:"#000"},onChange:A,children:[(0,l.jsx)("option",{value:"all",children:"All"}),Array.from(new Set(s.map(e=>e.make))).map((e,t)=>(0,l.jsx)("option",{value:e,children:e},t))]})]})})]}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:(0,l.jsx)("div",{className:"listings",style:{flex:1,minWidth:"calc(100% - 800px)"},children:0===s.length?(0,l.jsx)("div",{className:"CarListings",style:{display:"flex",height:"300px",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)("h2",{children:"No post yet..."})}):(0,l.jsx)("div",{id:"newCarsFiltered",children:(0,l.jsx)(o.Z,{gutter:[16,16],children:M})})})})]})}),(0,l.jsx)(c.Z,{})]})}},459:function(){}},function(e){e.O(0,[16,677,976,948,163,664,603,349,863,946,896,774,888,179],function(){return e(e.s=6552)}),_N_E=e.O()}]);