(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{6144:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/testScheduling",function(){return t(4004)}])},4914:function(e,s,t){"use strict";var a=t(5893),i=t(7309),l=t(3349),n=t(2529);let r=()=>{let[e,s]=(0,l.F_)(i.I8);return s?(0,a.jsxs)("div",{className:"authButtons",children:[(0,a.jsx)("img",{src:"/images/logo.jpg",alt:"logo",className:"homepageLogo"}),(0,a.jsx)("div",{className:"authContainer",children:(0,a.jsxs)("div",{className:"dropdown",style:{"z-index":"-99"},children:[(0,a.jsxs)("button",{className:"dropbtn",children:["Login ",(0,a.jsx)("i",{className:"arrowLogin down"}),(0,a.jsx)("i",{className:"fa fa-caret-down"})]}),(0,a.jsxs)("div",{className:"dropdown-content",children:[(0,a.jsx)("a",{href:"/auth/Login",children:"Login"}),(0,a.jsx)("a",{href:"/auth/Register",children:"Sign Up"})]})]})})]}):(0,a.jsxs)("div",{className:"authButtons",children:[(0,a.jsx)("img",{src:"/images/logo.jpg",alt:"logo",className:"homepageLogo"}),(0,a.jsxs)("div",{className:"authwrapper",children:[(0,a.jsx)("div",{className:"authContainer",children:(0,a.jsxs)("div",{className:"dropdown",children:[(0,a.jsxs)("button",{className:"dropbtn",children:[e?"Sign Out":"Login"," ",(0,a.jsx)("i",{className:"arrowLogin down"}),(0,a.jsx)("i",{className:"fa fa-caret-down"})]}),(0,a.jsx)("div",{className:"dropdown-content",children:e?(0,a.jsxs)(a.Fragment,{children:["1TaE0cpIawWbsbKcJ2cij6uUpmi2"===e.uid?(0,a.jsx)("a",{href:"/dashboard/home",children:"Admin"}):null,(0,a.jsx)("a",{href:"",onClick:()=>i.I8.signOut(),children:"Sign out"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:"/auth/Login",children:"Login"}),(0,a.jsx)("a",{href:"/auth/Register",children:"Sign Up"})]})})]})}),(0,a.jsx)("div",{className:"user-profile",children:e&&(0,a.jsx)("div",{className:"profile",children:(0,a.jsx)(n.default,{})})})]})]})};s.Z=r},6890:function(e,s,t){"use strict";var a=t(2729),i=t(5893);t(7294);var l=t(5882),n=t(3380),r=t.n(n);function c(){let e=(0,a._)(["\n  display: block;\n  margin: 0 auto;\n"]);return c=function(){return e},e}let o=(0,l.iv)(c()),d={backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,zIndex:1e3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},u={color:"white",fontSize:"3em",fontFamily:"Calibri light",marginBottom:"20px"};s.Z=function(){return(0,i.jsxs)("div",{style:d,children:[(0,i.jsx)("div",{style:u,children:"LuxeMotors"}),(0,i.jsx)(r(),{color:"#FF0000",loading:!0,css:o,size:150})]})}},4004:function(e,s,t){"use strict";t.r(s);var a=t(5893),i=t(7294),l=t(9198),n=t.n(l);t(459);var r=t(831),c=t(5700),o=t(6890),d=t(4914),u=t(7309),h=t(9828);let m=async()=>{let e=u.RZ,s=(0,h.hJ)(e,"listings"),t=(0,h.IO)(s,(0,h.ar)("sold","==",!1)),a=await (0,h.PL)(t),i=a.docs.map(e=>e.data());return i},x=async(e,s,t,a)=>{let i={car:e,date:s,time:t,userID:a.uid,status:0},l=u.RZ,n=(0,h.hJ)(l,"testDrives");await (0,h.ET)(n,i)};s.default=function(){let[e,s]=(0,i.useState)(""),[t,l]=(0,i.useState)(""),[h,j]=(0,i.useState)([]),[v,p]=(0,i.useState)(0),[g,f]=(0,i.useState)(null),[N,b]=(0,i.useState)(null),[w,D]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=async()=>{let e=await m();b(e),D(!1)};e()},[]);let S=async a=>{if(a.preventDefault(),!g){alert("Please select a date.");return}let i=g.toISOString().slice(0,10),n=y.current;if(h.some(e=>e.time===t&&e.date===i)){alert("Selected time slot is already scheduled. Please choose a different time slot.");return}await x(e,i,t,u.I8.currentUser),j([...h,{car:e,time:t,date:i}]),s(""),l(""),p(v+1);let r=window.confirm("Would you like to schedule another test drive?");r||(n.value="")},y=(0,i.useRef)(null),L=new Date;L.setDate(L.getDate()+1);let C=L.toISOString().slice(0,10),k=new Date;k.setDate(k.getDate()+7);let _=k.toISOString().slice(0,10);return w?(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{}),(0,a.jsxs)("div",{className:"TestSchedulingUser",children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)("div",{className:"testDriveContainer",children:u.I8.currentUser?(0,a.jsx)("div",{className:"testDriveContainer",children:(0,a.jsxs)("div",{className:"testDriveBox",children:[(0,a.jsx)("h1",{className:"testDriveTitle",children:"Schedule your test drive Now"}),(0,a.jsx)("p",{className:"testDriveLabel",children:"Select a car and available time slot to schedule a test drive."}),(0,a.jsxs)("form",{onSubmit:S,children:[(0,a.jsx)("label",{htmlFor:"car",className:"testDriveLabel",children:"Car:"}),(0,a.jsxs)("select",{className:"pleasebeblack",id:"carselect",value:e,onChange:e=>s(e.target.value),name:"carclient",children:[(0,a.jsx)("option",{value:"",className:"selectacar",children:"-- Select a car --"}),N.map((e,s)=>(0,a.jsx)("option",{value:e.make+" "+e.model,children:e.make+" "+e.model},s))]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"date-picker-container",children:[(0,a.jsx)("label",{htmlFor:"date",className:"testDriveLabel",children:"Date:"}),(0,a.jsx)(n(),{className:"pleasebeblack2",selected:g,onChange:e=>f(e),minDate:new Date(C),maxDate:new Date(_),filterDate:e=>0!==e.getDay(),required:!0,name:"dateclient",disabled:!e||"Select-A-TestCar"===e,ref:y})]}),(0,a.jsx)("br",{}),(0,a.jsx)("label",{htmlFor:"time",className:"testDriveLabelTime",children:"Time:"}),(0,a.jsxs)("select",{id:"time",className:"pleasebeblack3",value:t,onChange:e=>l(e.target.value),required:!0,name:"timeclient",disabled:!e||"Select-A-TestCar"===e||!g,children:[(0,a.jsx)("option",{value:"",children:"--  Select time --"}),(0,a.jsx)("option",{value:"9:00am",children:"9:00am"}),(0,a.jsx)("option",{value:"10:00am",children:"10:00am"}),(0,a.jsx)("option",{value:"11:00am",children:"11:00am"}),(0,a.jsx)("option",{value:"12:00pm",children:"12:00pm"}),(0,a.jsx)("option",{value:"1:00pm",children:"1:00pm"}),(0,a.jsx)("option",{value:"2:00pm",children:"2:00pm"}),(0,a.jsx)("option",{value:"3:00pm",children:"3:00pm"}),(0,a.jsx)("option",{value:"4:00pm",children:"4:00pm"})]}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"text",hidden:!0,value:"bechara",name:"nameclient"}),(0,a.jsx)("input",{type:"text",hidden:!0,value:"becharaerizk@yahoo.com",name:"emailclient"}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"submit",className:"testDriveSubmit",disabled:v>=3,children:"Schedule Test Drive"})]}),h.length>0&&(0,a.jsx)("div",{children:h.map((e,s)=>(console.log("Request sent Successfully"),null))}),v>=3&&(0,a.jsx)("p",{className:"testDriveMessage",children:"You have reached the maximum number of scheduled test drives (3)."})]})}):(0,a.jsx)("div",{className:"testDriveContainer",children:(0,a.jsxs)("div",{className:"testDriveBox",children:[(0,a.jsx)("h1",{className:"testDriveTitle",children:"You must login to schedule a test drive"}),(0,a.jsx)("a",{href:"/auth/Login",className:"testDriveTitle",children:"Login Now"})]})})}),(0,a.jsx)(c.Z,{})]})]})}}},function(e){e.O(0,[976,16,677,948,20,664,349,893,863,636,896,774,888,179],function(){return e(e.s=6144)}),_N_E=e.O()}]);